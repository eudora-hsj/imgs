<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "/img", true);
        xhr.responseType = 'document';
        xhr.onload = () => {
            if (xhr.status === 200) {
                console.warn(xhr)
                console.warn(xhr.response)
                // let elements = xhr.response.getElementsByTagName("a");
                // let imgsSrc = []
                // for (x of elements) {
                //     if (x.href.match(/\.(jpe?g|png|gif)$/)) {
                //         imgsSrc.push(x.href)
                //     }
                // };
                // roadImgHandler(imgsSrc)
            }
            else {
                alert('Request failed. Returned status of ' + xhr.status);
            }
        }
        xhr.send()

        function roadImgHandler(imgsSrc) {
            let imgName = "";
            imgsSrc.forEach(imgSrc => {
                imgName = getFileName(imgSrc);
                document.write(`
                <p><img src="${imgSrc}" alt="${imgName}" title="${imgName}"/></p>
                `);
            });
        }
        function getFileName(fileUrl) {
            return fileUrl.split('/').pop().split('.')[0]
        }
    </script>
</body>

</html>